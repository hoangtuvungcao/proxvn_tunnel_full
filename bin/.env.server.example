# ========================================
# ProxVN Server Configuration
# ========================================
# Copy file này thành .env và chỉnh sửa theo nhu cầu

# ----------------------------------------
# Server Settings
# ----------------------------------------
SERVER_HOST=0.0.0.0
SERVER_PORT=8882
PUBLIC_PORT_START=10000
PUBLIC_PORT_END=20000

# HTTP Domain (để tạo subdomain cho HTTP tunnels)
# Ví dụ: vutrungocrong.fun
# Để trống nếu chỉ dùng IP:Port
HTTP_DOMAIN=
HTTP_PORT=443

# ----------------------------------------
# Database Settings (SQLite3)
# ----------------------------------------
DB_PATH=./proxvn.db

# ----------------------------------------
# Authentication & Security
# ----------------------------------------
JWT_SECRET=your-super-secret-jwt-key-change-this
TOKEN_EXPIRY=24h

# Admin Account
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# API Keys (tự động generate nếu để trống)
# Dùng để authenticate API requests
GENERATE_API_KEYS=true

# ----------------------------------------
# Performance & Optimization
# ----------------------------------------
# Max concurrent connections
MAX_CONNECTIONS=10000

# Buffer size (bytes)
BUFFER_SIZE=32768

# Enable compression
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# Enable HTTP/2
ENABLE_HTTP2=true

# Connection timeouts
READ_TIMEOUT=30s
WRITE_TIMEOUT=30s
IDLE_TIMEOUT=60s

# ----------------------------------------
# Rate Limiting
# ----------------------------------------
# Requests per second per IP
RATE_LIMIT_RPS=10

# Burst size
RATE_LIMIT_BURST=20

# Enable DDoS protection
ENABLE_DDOS_PROTECTION=true

# ----------------------------------------
# Resource Management
# ----------------------------------------
# Max upload size (MB)
MAX_UPLOAD_SIZE=100000

# Storage quota per user (MB, 0 = unlimited)
USER_STORAGE_QUOTA=0

# Bandwidth limit per connection (MB/s, 0 = unlimited)
BANDWIDTH_LIMIT=0

# ----------------------------------------
# Monitoring
# ----------------------------------------
MONITORING_ENABLED=true
MONITORING_PORT=9090
MONITORING_PATH=/metrics

# Enable debug logging
DEBUG_MODE=false
LOG_LEVEL=info

# ----------------------------------------
# Backup Settings
# ----------------------------------------
# Auto backup enabled
AUTO_BACKUP=true
BACKUP_INTERVAL=24h
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=7

# ----------------------------------------
# Notification Settings
# ----------------------------------------
# Email notifications (SMTP)
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@proxvn.com

# Webhook notifications
WEBHOOK_ENABLED=false
WEBHOOK_URL=

# Telegram notifications
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ----------------------------------------
# TLS/SSL Settings
# ----------------------------------------
# TLS 1.3 only (recommended)
TLS_MIN_VERSION=1.3

# Auto-generate self-signed cert if not exists
AUTO_TLS=true
TLS_CERT_FILE=./server.crt
TLS_KEY_FILE=./server.key

# ----------------------------------------
# CORS Settings
# ----------------------------------------
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=*
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Origin,Content-Type,Authorization,X-API-Key

# ----------------------------------------
# File Server Settings
# ----------------------------------------
# Enable built-in file server
FILE_SERVER_ENABLED=true

# File server port
FILE_SERVER_PORT=8080

# Max file preview size (MB)
MAX_PREVIEW_SIZE=10

# Enable file versioning
ENABLE_FILE_VERSIONING=true

# Max versions per file
MAX_FILE_VERSIONS=5

# ----------------------------------------
# WebDAV Settings
# ----------------------------------------
WEBDAV_ENABLED=true
WEBDAV_PATH=/webdav

# ----------------------------------------
# Cache Settings
# ----------------------------------------
ENABLE_CACHE=true
CACHE_SIZE_MB=256
CACHE_TTL=3600s

# ----------------------------------------
# Developer Settings
# ----------------------------------------
# Enable pprof profiling
ENABLE_PPROF=false
PPROF_PORT=6060

# Enable hot reload
HOT_RELOAD=false
